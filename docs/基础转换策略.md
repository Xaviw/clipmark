**基础转换**:

- 标题 (h1-h6) → Markdown标题
- 段落 (p) → 换行分隔
- 加粗 (strong, b) → `**粗体**`
- 斜体 (em, i) → `*斜体*`
- 代码 (code) → 行内代码 \`code\`
- 代码块 (pre) → 代码块 \`\`\`code\`\`\`
- 引用 (blockquote) → `> 引用`
- 列表 (ul, ol, li) → Markdown列表
- 链接 (a) → `[文本](URL)` 保留完整URL
- 分隔线 (hr) → `---`

**表格处理**:

- 简单表格 → Markdown表格语法
- 复杂表格（合并单元格、rowspan/colspan）→ 使用精简的HTML代码
  - 删除无关属性（class, style, id等）
  - 只保留结构属性（rowspan, colspan）
  - 示例: `<table><tr><td rowspan="2">内容</td></tr></table>`

**图片处理**:

- URL链接图片 → `![alt](URL)` 保留URL
- Base64图片 → `[图片占位符: 图片描述_序号]`
- Data URL图片 → `[图片占位符: 图片描述_序号]`
- SVG内联图片 → `[SVG图片占位符: 图片描述_序号]`
- 图片占位符说明:
  - 使用图片的alt属性作为描述（若无alt则使用"未命名图片"）
  - 多个图片使用递增序号（如: 产品图\_1, 产品图\_2, 未命名图片\_1）

**特殊元素处理**:

- iframe → `[iframe内容占位符: 来源描述]`
- canvas → `[canvas内容占位符: 功能描述]`
- video → `[视频占位符: 视频标题]`
- audio → `[音频占位符: 音频标题]`
- 其他无法转换的元素 → `[未支持元素: 元素类型]`

**占位符提示词生成**:

- 在转换后的Markdown末尾添加提示信息
- 格式示例:

  ```markdown
  ---

  **内容说明**:

  - 本内容包含 3 个图片占位符，2 个iframe占位符
  - 请优先基于现有文本内容进行理解和回答
  - 如确需查看占位符对应的原始内容，请提示用户提供
  ```

**内容清理**:

- 删除script、style标签及内容
- 删除HTML注释
- 删除多余的空白行（连续超过2个空行压缩为2个）
- 删除HTML属性（除表格必需的rowspan/colspan）
